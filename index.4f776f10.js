var n,e=document.querySelector(".message-start"),r=document.querySelector(".message-win"),t=document.querySelector(".message-lose"),i=document.querySelector(".button"),a=document.querySelector(".game-score"),c=document.querySelectorAll("td"),s=0;function l(n){var i=100*Math.random()<10?4:2,a=Math.floor(Math.random()*c.length);""===c[a].innerHTML?(c[a].innerHTML=i,c[a].className="field-cell field-cell--".concat(i)):(l(n),function(){for(var n=0,i=0;i<c.length;i++)""===c[i].innerHTML&&n++;0!==n||H()||(t.classList.remove("hidden"),r.classList.add("hidden"),e.classList.add("hidden"))}())}var o=!0;function L(n){""!==n.innerHTML?n.className="field-cell field-cell--".concat(n.innerHTML):n.className="field-cell",a.innerHTML=s}function f(){for(var n,e=0;e<c.length-1;e++)c[e].innerHTML===c[e+1].innerHTML&&c[e].parentElement===c[e+1].parentElement?(n=parseInt(c[e].innerHTML)+parseInt(c[e+1].innerHTML),c[e].innerHTML=n,c[e+1].innerHTML="",n===parseInt(n)&&(s+=n)):H();v()}function M(){for(var n,e=0;e<c.length-4;e++)c[e].innerHTML===c[e+4].innerHTML?(n=parseInt(c[e].innerHTML)+parseInt(c[e+4].innerHTML),c[e].innerHTML=n,c[e+4].innerHTML="",n===parseInt(n)&&(s+=n)):H();v()}function H(){for(var n=0;n<c.length-4;n++)if(c[n].innerHTML===c[n+4].innerHTML)return!0;for(var e=0;e<c.length-1;e++)if(c[e].innerHTML===c[e+1].innerHTML&&c[e].parentElement===c[e+1].parentElement)return!0;return!1}function T(){for(var n=0;n<c.length;n++)if(n%4==0){var e=c[n].innerHTML,r=c[n+1].innerHTML,t=c[n+2].innerHTML,i=c[n+3].innerHTML,a=[parseInt(e),parseInt(r),parseInt(t),parseInt(i)].filter(function(n){return n}),s=Array(4-a.length).fill("").concat(a);c[n].innerHTML=s[0],c[n+1].innerHTML=s[1],c[n+2].innerHTML=s[2],c[n+3].innerHTML=s[3],c.forEach(function(n){return L(n)})}}function u(){for(var n=0;n<c.length;n++)if(n%4==0){var e=c[n].innerHTML,r=c[n+1].innerHTML,t=c[n+2].innerHTML,i=c[n+3].innerHTML,a=[parseInt(e),parseInt(r),parseInt(t),parseInt(i)].filter(function(n){return n}),s=Array(4-a.length).fill(""),l=a.concat(s);c[n].innerHTML=l[0],c[n+1].innerHTML=l[1],c[n+2].innerHTML=l[2],c[n+3].innerHTML=l[3],c.forEach(function(n){return L(n)})}}function d(){for(var n=0;n<4;n++){var e=c[n].innerHTML,r=c[n+4].innerHTML,t=c[n+8].innerHTML,i=c[n+12].innerHTML,a=[parseInt(e),parseInt(r),parseInt(t),parseInt(i)].filter(function(n){return n}),s=Array(4-a.length).fill(""),l=a.concat(s);c[n].innerHTML=l[0],c[n+4].innerHTML=l[1],c[n+8].innerHTML=l[2],c[n+12].innerHTML=l[3],c.forEach(function(n){return L(n)})}}function h(){for(var n=0;n<4;n++){var e=c[n].innerHTML,r=c[n+4].innerHTML,t=c[n+8].innerHTML,i=c[n+12].innerHTML,a=[parseInt(e),parseInt(r),parseInt(t),parseInt(i)].filter(function(n){return n}),s=Array(4-a.length).fill("").concat(a);c[n].innerHTML=s[0],c[n+4].innerHTML=s[1],c[n+8].innerHTML=s[2],c[n+12].innerHTML=s[3],c.forEach(function(n){return L(n)})}}function v(){for(var n=0;n<c.length;n++)"2048"===c[n].innerHTML&&(r.classList.remove("hidden"),e.classList.add("hidden"),t.classList.add("hidden"))}i.addEventListener("click",function(r){if(o){r.target.className="button restart",r.target.innerHTML="Restart",e.classList.add("hidden"),o=!1;var i=!0,s=!1,f=void 0;try{for(var M,H=c[Symbol.iterator]();!(i=(M=H.next()).done);i=!0){n=M.value;for(var T=0;T<16;T++)n.innerHTML=""}}catch(n){s=!0,f=n}finally{try{i||null==H.return||H.return()}finally{if(s)throw f}}l(c),l(c),c.forEach(function(n){return L(n)})}else r.target.className="button start",r.target.innerHTML="Start",e.classList.remove("hidden"),t.classList.add("hidden"),o=!0,document.querySelectorAll('[class*="field-cell--"]').forEach(function(n){var e=n.classList[n.classList.length-1];n.classList.remove(e),n.innerHTML="",a.innerHTML=0})}),document.body.addEventListener("keydown",function(n){switch(n.key){case"ArrowLeft":u(),f(),u(),l(c);break;case"ArrowRight":T(),f(),T(),l(c);break;case"ArrowUp":d(),M(),d(),l(c);break;case"ArrowDown":h(),M(),h(),l(c)}});
//# sourceMappingURL=index.4f776f10.js.map
